---
import Layout from '../layouts/Layout.astro';
import Button from '../components/Button.astro';

interface Service {
  id: string;
  title: string;
  subtitle: string;
  description: string[];
  icon: string;
  features: string[];
  image: string;
}

const services: Service[] = [
  {
    id: "ia",
    title: "Inteligencia Artificial",
    subtitle: "Soluciones avanzadas de IA para optimizar procesos",
    description: [
      "Nuestras soluciones de Inteligencia Artificial están diseñadas para transformar la forma en que tu empresa procesa y utiliza los datos, permitiéndote obtener insights valiosos, automatizar procesos complejos y tomar decisiones más acertadas.",
      "Utilizamos los últimos avances en machine learning, deep learning y procesamiento del lenguaje natural para crear sistemas inteligentes adaptados a tus necesidades específicas."
    ],
    icon: "brain",
    features: [
      "Sistemas predictivos y prescriptivos personalizados",
      "Análisis de datos masivos con algoritmos avanzados",
      "Reconocimiento de patrones y anomalías",
      "Procesamiento del lenguaje natural y análisis de sentimiento",
      "Computer vision y reconocimiento de imágenes",
      "Asistentes virtuales y chatbots inteligentes"
    ],
    image: "https://images.pexels.com/photos/8386440/pexels-photo-8386440.jpeg"
  },
  {
    id: "metaverso",
    title: "Metaverso",
    subtitle: "Experiencias inmersivas en entornos virtuales",
    description: [
      "Diseñamos y desarrollamos experiencias inmersivas en el metaverso que permiten a tu marca crear conexiones significativas con tus clientes en entornos virtuales interactivos y visualmente impactantes.",
      "Desde showrooms virtuales hasta eventos y conferencias en 3D, creamos espacios digitales que rompen las barreras físicas y ofrecen nuevas posibilidades de interacción."
    ],
    icon: "vr",
    features: [
      "Diseño y desarrollo de espacios virtuales en 3D",
      "Experiencias inmersivas para VR y AR",
      "Eventos y conferencias en el metaverso",
      "Showrooms y tiendas virtuales interactivas",
      "Capacitación y formación en entornos virtuales",
      "Integración con blockchain y NFTs"
    ],
    image: "https://images.pexels.com/photos/8728556/pexels-photo-8728556.jpeg"
  },
  {
    id: "software",
    title: "Software Disruptivo",
    subtitle: "Desarrollo de aplicaciones innovadoras",
    description: [
      "Creamos software a medida que rompe con los paradigmas establecidos, utilizando arquitecturas modernas y tecnologías de vanguardia para ofrecer soluciones que transforman la manera en que operas y te relacionas con tus clientes.",
      "Nuestro enfoque centrado en la innovación nos permite desarrollar aplicaciones que no solo resuelven problemas actuales, sino que también se anticipan a las necesidades futuras."
    ],
    icon: "code",
    features: [
      "Desarrollo de aplicaciones web y móviles con arquitecturas modernas",
      "Microservicios y arquitecturas serverless",
      "Aplicaciones progresivas (PWA) de alto rendimiento",
      "Integración con IoT y dispositivos conectados",
      "Sistemas blockchain y contratos inteligentes",
      "APIs robustas y escalables"
    ],
    image: "https://images.pexels.com/photos/7989247/pexels-photo-7989247.jpeg"
  },
  {
    id: "consultoria",
    title: "Consultoría Tecnológica",
    subtitle: "Asesoramiento estratégico y hojas de ruta",
    description: [
      "Ofrecemos consultoría tecnológica de alto nivel para ayudarte a definir y ejecutar tu estrategia digital, identificando oportunidades de innovación y optimizando tus procesos y sistemas actuales.",
      "Nuestro equipo de expertos te guiará en cada etapa de tu transformación digital, desde la evaluación inicial hasta la implementación y medición de resultados."
    ],
    icon: "chart",
    features: [
      "Auditoría y diagnóstico tecnológico",
      "Estrategia y hoja de ruta de transformación digital",
      "Asesoramiento en arquitectura de sistemas",
      "Optimización de procesos mediante tecnología",
      "Evaluación y selección de proveedores tecnológicos",
      "Formación y capacitación en nuevas tecnologías"
    ],
    image: "https://images.pexels.com/photos/8127803/pexels-photo-8127803.jpeg"
  }
];

const getIcon = (icon: string):string => {
  const icons: Record<string, string> = {
    brain: `<svg class="w-12 h-12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M9.5 2a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Z"/>
      <path d="M14.5 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z"/>
      <path d="M3 15.5a7 7 0 0 1 7-7"/>
      <path d="M14 8.5a7 7 0 0 1 7 7"/>
      <path d="M9 15a1 1 0 0 0-1 1"/>
      <path d="M8 8a2 2 0 0 0-2 2"/>
      <path d="M18 11.5a3.5 3.5 0 0 0-3.5-3.5"/>
      <path d="M18.5 15.5a1 1 0 0 0-1-1"/>
      <path d="M17 17a2 2 0 0 0-2 2"/>
      <path d="M7 17.5a2.5 2.5 0 0 0 2.5 2.5"/>
      <path d="M12 16.5a2.5 2.5 0 0 0 2.5 2.5"/>
      <path d="M8 12.5a2.5 2.5 0 0 0 2.5 2.5"/>
      <path d="M13.5 15a2.5 2.5 0 0 0 2.5-2.5"/>
    </svg>`,
    vr: `<svg class="w-12 h-12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M2 12.5C2 10 4 8.5 7 8.5c3 0 5 1.5 5 4s-2 4-5 4-5-1.5-5-4z"/>
      <path d="M17 15.5c3 0 5-1.5 5-4s-2-4-5-4-5 1.5-5 4 2 4 5 4z"/>
      <path d="M19.5 8.5h-15"/>
      <path d="M19.5 15.5h-15"/>
    </svg>`,
    code: `<svg class="w-12 h-12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="16 18 22 12 16 6"/>
      <polyline points="8 6 2 12 8 18"/>
    </svg>`,
    chart: `<svg class="w-12 h-12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M3 3v18h18"/>
      <path d="M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
      <path d="M6 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
      <path d="M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
      <path d="M8.59 13.51l6.83 3.98"/>
      <path d="M15.41 6.51l-6.82 3.98"/>
    </svg>`
  };
  
  return icons[icon] || icons.brain;
};
---

<Layout title="Servicios - Elite Ware">
  <!-- Hero Section -->
  <section class="pt-32 pb-20 bg-gradient-to-b from-dark-900 to-dark-800">
    <div class="container mx-auto px-4 md:px-8">
      <div class="max-w-3xl mx-auto text-center">
        <h1 class="font-display text-4xl md:text-6xl font-bold text-white mb-6">
          Nuestros Servicios
        </h1>
        <p class="text-lg text-dark-200 mb-10">
          Soluciones tecnológicas avanzadas diseñadas para transformar tu negocio y prepararlo para los retos del futuro digital.
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          {services.map(service => (
            <a 
              href={`#${service.id}`} 
              class="bg-dark-700 hover:bg-dark-600 text-white px-5 py-2 rounded-full transition-all duration-300"
            >
              {service.title}
            </a>
          ))}
        </div>
      </div>
    </div>
  </section>
  
  <!-- Services Detail -->
  {services.map((service, index) => (
    <section id={service.id} class={`py-24 ${index % 2 === 0 ? 'bg-white dark:bg-dark-800' : 'bg-gray-50 dark:bg-dark-700'}`}>
      <div class="container mx-auto px-4 md:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <!-- Content -->
          <div class={`${index % 2 === 0 ? 'order-1' : 'order-1 lg:order-2'}`}>
            <div class="mb-8">
              <div class="inline-block p-3 rounded-xl bg-primary-500/10 dark:bg-primary-500/20 text-primary-500 mb-6">
               <div set:html={getIcon(service.icon)} />
              </div>
              
              <h2 class="font-display text-3xl md:text-4xl font-bold mb-4">
                {service.title}
              </h2>
              <p class="text-xl text-dark-500 dark:text-dark-200 mb-6">
                {service.subtitle}
              </p>
              
              {service.description.map(paragraph => (
                <p class="text-dark-500 dark:text-dark-300 mb-4">{paragraph}</p>
              ))}
            </div>
            
            <!-- Features -->
            <div class="bg-white dark:bg-dark-800 p-6 rounded-xl shadow-lg dark:shadow-accent-500/5">
              <h3 class="font-display font-semibold text-lg mb-4">Características Principales</h3>
              <ul class="space-y-3">
                {service.features.map(feature => (
                  <li class="flex items-start">
                    <svg class="h-6 w-6 text-accent-500 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    <span>{feature}</span>
                  </li>
                ))}
              </ul>
            </div>
            
            <!-- CTA -->
            <div class="mt-8">
              <Button href="/contacto" variant="primary" size="lg">
                Consultar sobre {service.title}
              </Button>
            </div>
          </div>
          
          <!-- Image -->
          <div class={`${index % 2 === 0 ? 'order-2' : 'order-1 lg:order-1'}`}>
            <div class="relative rounded-xl overflow-hidden shadow-xl">
              <div class="aspect-w-16 aspect-h-9">
                <img 
                  src={service.image} 
                  alt={service.title} 
                  class="w-full h-full object-cover"
                />
              </div>
              
              <!-- Overlay gradient -->
              <div class="absolute inset-0 bg-gradient-to-tr from-dark-900/50 to-transparent"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
  ))}
  
  <!-- CTA Section -->
  <section class="py-20 bg-gradient-to-r from-primary-600 to-accent-600 text-white">
    <div class="container mx-auto px-4 md:px-8 text-center">
      <h2 class="font-display text-3xl md:text-4xl font-bold mb-6">
        ¿Listo para transformar tu negocio?
      </h2>
      <p class="text-xl opacity-90 max-w-2xl mx-auto mb-10">
        Contáctanos hoy mismo para discutir cómo nuestras soluciones tecnológicas pueden impulsar tu empresa hacia el futuro.
      </p>
      <Button href="/contacto" variant="secondary" size="lg">
        Solicitar una consulta
      </Button>
    </div>
  </section>
</Layout>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';
  
  document.addEventListener('astro:page-load', () => {
    gsap.registerPlugin(ScrollTrigger);
    
    // Animate sections on scroll
    const sections = document.querySelectorAll('section[id]');
    
    sections.forEach(section => {
      const content = section.querySelector('.order-1');
      const image = section.querySelector('.order-2');
      
      if (content && image) {
        const tl = gsap.timeline({
          scrollTrigger: {
            trigger: section,
            start: 'top 70%',
            end: 'bottom 70%',
            toggleActions: 'play none none none'
          }
        });
        
        tl.from(content, {
          x: -50,
          opacity: 0,
          duration: 0.8
        }).from(image, {
          x: 50,
          opacity: 0,
          duration: 0.8
        }, '-=0.6');
      }
    });
  });
</script>

<style>
  .aspect-w-16 {
    position: relative;
    padding-bottom: 56.25%;
  }
  
  .aspect-w-16 > * {
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
</style>