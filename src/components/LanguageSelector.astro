---
// This component is a placeholder for future multilanguage support
// Currently only Spanish is implemented
---

<div class="relative language-selector">
  <button 
    class="flex items-center space-x-1 py-2 px-1 text-sm font-medium" 
    aria-label="Seleccionar idioma"
    aria-expanded="false"
  >
    <span>ES</span>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </button>
  
  <div class="dropdown-menu absolute right-0 mt-2 py-2 w-24 bg-white dark:bg-dark-700 rounded-md shadow-lg hidden">
    <a href="#" data-lang="es" class="block px-4 py-2 text-sm text-dark-800 dark:text-white hover:bg-dark-100 dark:hover:bg-dark-600 current">
      Espa√±ol
    </a>
    <a href="#" data-lang="en" class="block px-4 py-2 text-sm text-dark-800 dark:text-white hover:bg-dark-100 dark:hover:bg-dark-600 ">
      English
    </a>
  </div>
</div>

<script>
  document.addEventListener('astro:page-load', () => {
    const langSelector = document.querySelector('.language-selector button');
    const dropdown = document.querySelector('.dropdown-menu');
    
    langSelector?.addEventListener('click', (e) => {
      e.stopPropagation();
      dropdown?.classList.toggle('hidden');
      langSelector.setAttribute(
        'aria-expanded', 
        dropdown?.classList.contains('hidden') ? 'false' : 'true'
      );
    });
    
    document.addEventListener('click', (e) => {
      const target = e.target as Element;
      if (!target.closest('.language-selector')) {
        dropdown?.classList.add('hidden');
        langSelector?.setAttribute('aria-expanded', 'false');
      }
    });
  });
</script>